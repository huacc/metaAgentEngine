# 元智能体系统方法论

## 1. 核心愿景

构建一套**"生产智能体的智能体系统"**——元智能体引擎（Meta-Agent Engine）。

它不是针对特定任务的手工调优，而是像**编译器**或**工业母机**一样：
- 解析人类意图
- 自动化生产、组装、测试智能体
- 部署由多个智能体组成的"协作集群"
- 支持智能体的**层级派生**，实现能力的持续深化

## 2. 核心理念

### 2.1 元智能体 vs 业务智能体

| 类型 | 定义 | 生命周期 | 示例 |
|------|------|----------|------|
| **元智能体** | 负责生产和管理其他智能体的角色 | 系统常驻 | Architect、Weaver、Evaluator |
| **业务智能体** | 被生产出来执行具体任务的角色 | 按需创建/销毁 | 医生、程序员、文档专家 |

### 2.2 层级派生思想

智能体可以像生物进化一样，从通用到专业逐级派生：

```
医生智能体 (通用)
    ├── 内科医生智能体
    │       ├── 胃肠科医生智能体
    │       ├── 心血管科医生智能体
    │       └── 呼吸科医生智能体
    ├── 外科医生智能体
    │       ├── 骨科医生智能体
    │       └── 神经外科医生智能体
    └── 儿科医生智能体
```

每一级派生都：
- **继承**父级的基础能力和知识框架
- **特化**在特定领域深化专业能力
- **约束**缩小职责边界，提高专业度

### 2.3 三层架构

```
┌─────────────────────────────────────────────────────┐
│                   用户意图层                          │
│              (模糊需求、业务目标)                      │
└─────────────────────────────────────────────────────┘
                         ↓
┌─────────────────────────────────────────────────────┐
│                   元智能体层                          │
│    ┌─────────┐ ┌─────────┐ ┌─────────┐             │
│    │Librarian│ │Architect│ │ Weaver  │  ...        │
│    └─────────┘ └─────────┘ └─────────┘             │
│         (负责生产、编排、评估业务智能体)               │
└─────────────────────────────────────────────────────┘
                         ↓
┌─────────────────────────────────────────────────────┐
│                  业务智能体层                         │
│    ┌─────────┐ ┌─────────┐ ┌─────────┐             │
│    │ 医生A   │ │ 医生B   │ │ 护士C   │  ...        │
│    └─────────┘ └─────────┘ └─────────┘             │
│         (执行具体业务任务，可动态派生)                 │
└─────────────────────────────────────────────────────┘
```

## 3. 设计哲学

### 3.1 解耦与防火墙

- **Weaver** 不需要知道全局流程
- **Choreographer** 不需要知道 Prompt 细节
- 这种隔离保证了单个角色的**通用性**和**稳定性**

### 3.2 资产为王

系统的核心竞争力在于**资产库**：
- 成熟的 Agent 模板
- 验证过的 Prompt 组件
- 可复用的流程蓝图

随着使用次数增加，资产库越丰富，引擎生产的速度和质量就越高。

### 3.3 动态路由

生成的不是死板的程序，而是具备**条件判断能力**的"生物组织"：
- 能根据中间结果动态调整下一步
- 能在粒度不足时触发新的派生
- 能在失败时回退或重试

### 3.4 闭环验收

每个生产出来的智能体和流程都必须经过**Evaluator**的验收：
- 不合格则打回重修
- 合格则交付并存入资产库

## 4. 文档索引

| 文档 | 内容 |
|------|------|
| [01-角色分工矩阵](./01-角色分工矩阵.md) | 元智能体层的6个核心角色定义 |
| [02-层级派生机制](./02-层级派生机制.md) | 智能体的继承、特化、派生规则 |
| [03-工作流程](./03-工作流程.md) | 从需求到交付的完整流程 |
| [04-数据结构](./04-数据结构.md) | 核心数据结构和契约定义 |

## 5. 适用场景

- **软件开发**：需求分析师 → 前端专家 → 测试专家
- **智慧医疗**：分诊员 → 查体员 → 诊断专家
- **内容创作**：策划 → 写手 → 编辑 → 审核
- **客户服务**：接待 → 问题分类 → 专家处理
- **教育培训**：课程设计 → 讲师 → 助教 → 评估

任何需要**多角色协作**且**专业度可分层**的场景都适用。
